<div class="forget-password-container">
  <div class="content">

    <!-- Left Side Image -->
    <div class="details-section hide-part">
      <img width="486" height="528" src="assets/images/flowers/login-flower.svg" alt="">
    </div>

    <!-- Form Section -->
    <div class="form-section">

      <!-- Step 1: Enter Mobile Number -->
      <ng-container *ngIf="!hideCheckForm">
        <form [formGroup]="checkMobile" (ngSubmit)="onSubmit()" class="check-email-form">
          <div class="details d-flex justify-content-between">
            <div class="d-flex flex-col">
              <h2>{{ 'FORGET_PASSWORD.WELCOME' | translate }}</h2>
            </div>

            <!-- Language Switcher -->
            <div class="user-section">
              <button type="button" class="lang-btn" (click)="toggleLanguage()">
                {{ selectedLang.toUpperCase() == 'AR' ? 'EN' : 'AR' }}
              </button>
            </div>
          </div>

          <!-- Mobile Number Input -->
          <div class="d-flex flex-col gap-2">
            <p-floatlabel variant="on">
              <label for="mobileNumber">{{ 'FORGET_PASSWORD.MOBILE_LABEL' | translate }}</label>
              <input pInputText id="mobileNumber" formControlName="mobileNumber" />
            </p-floatlabel>
            <small *ngIf="checkMobile.get('mobileNumber')?.hasError('required') && checkMobile.get('mobileNumber')?.touched">
              {{ 'FORGET_PASSWORD.MOBILE_REQUIRED' | translate }}
            </small>
          </div>

          <!-- Send Button -->
          <div class="actions">
            <button type="submit" class="main-btn-one">
              {{ 'FORGET_PASSWORD.SEND_BUTTON' | translate }}
              <span class="pi pi-arrow-right"></span>
            </button>
            <a routerLink='/auth/login'>{{ 'FORGET_PASSWORD.LOGIN' | translate }}</a>
          </div>
        </form>
      </ng-container>

      <!-- Step 2: Change Password -->
      <ng-container *ngIf="hideCheckForm">
        <form [formGroup]="changePassword" (ngSubmit)="onOtpSubmit()" class="check-email-form">
          <div class="details d-flex flex-col ">
            <h2>{{ 'FORGET_PASSWORD.ADD_NEW_PASSWORD' | translate }}</h2>
          </div>

          <!-- New Password Input -->
          <div class="d-flex flex-col gap-2">
            <label for="password">{{ 'FORGET_PASSWORD.NEW_PASSWORD' | translate }}</label>
            <input pInputText id="password" formControlName="password" />
            <small *ngIf="changePassword.get('password')?.hasError('required') && changePassword.get('password')?.touched">
              {{ 'FORGET_PASSWORD.NEW_PASSWORD_REQUIRED' | translate }}
            </small>
          </div>

          <!-- Confirm Password Input -->
          <div class="d-flex flex-col gap-2">
            <label for="confirmPassword">{{ 'FORGET_PASSWORD.CONFIRM_PASSWORD' | translate }}</label>
            <input pInputText id="confirmPassword" formControlName="confirmPassword" />
            <small *ngIf="changePassword.get('confirmPassword')?.hasError('required') && changePassword.get('confirmPassword')?.touched">
              {{ 'FORGET_PASSWORD.CONFIRM_PASSWORD_REQUIRED' | translate }}
            </small>
            <small *ngIf="changePassword.hasError('passwordsDoNotMatch') && changePassword.get('confirmPassword')?.touched">
              {{ 'FORGET_PASSWORD.PASSWORDS_NOT_MATCH' | translate }}
            </small>
          </div>

          <!-- Change Button & Back Link -->
          <div class="actions">
            <button type="submit" class="main-btn-one">
              {{ 'FORGET_PASSWORD.CHANGE_BUTTON' | translate }}
              <span class="pi pi-arrow-right"></span>
            </button>
            <a class="pointer" (click)="hideCheckForm = !hideCheckForm">
              {{ 'FORGET_PASSWORD.BACK_BUTTON' | translate }}
            </a>
          </div>
        </form>
      </ng-container>

    </div>
  </div>
</div>
